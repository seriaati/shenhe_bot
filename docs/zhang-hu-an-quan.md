# 帳戶安全

目前有兩種連結原神帳號的方式：UID 及 Cookie（而 Cookie 又分為使用代碼或電子信箱+密碼兩種方式）

### 🔢 UID

這是最安全的連結方式，你唯一會給予申鶴的資料便是你的原神遊戲 UID。值得注意的是，你可以使用的指令數量會受到限制。不過，藉著 [Enka](https://enka.shinshin.moe/) API 的幫助，你仍然可以僅靠 UID 來使用申鶴中大部份的重要功能。

### 🍪 Cookie

#### Cookie 是什麼？

當你第一次在 Hoyolab 的網站上登入你的帳號時，你會輸入你的電子信箱及密碼。但你是否曾經想過，為什麼第二次上 Hoyolab 的網站時，你不用再次輸入帳號密碼就可以登入了？\
這是因為你的瀏覽器在你第一次登入成功時存放了一個叫做 Cookie 的文字檔，而裡面的內容使得瀏覽器認為你就是這個 Hoyolab 帳號的擁有者。\
Cookie是一個加密過的文本字符串，它暫時儲存你的帳號資料，這樣一來，你就不必每次都用你的電子郵件和密碼來登入帳號。\
這是一個方便的功能，而這當然也有其安全上的代價。\
換句話說，任何擁有這串 Cookie 的人都會被視為該帳號的擁有者。

是的，申鶴在你註冊帳戶時詢問你的 Cookie，這是因為像是深境螺旋或是即時便籤等資料都只有帳號的擁有者才能看見，而申鶴為了能將這些資料呈現在你眼前，就需要透過 Cookie 來假裝成你。

#### 我能駭入你的帳戶嗎？

否，雖然我擁有你的帳號的 Cookie，但這不代表我能隨心所欲的操控你的帳號。

1. 我沒有辦法重設你的帳號的密碼，因為這需要你的電子郵件來進行驗證。我沒有你的電子郵件，更別提它的密碼。
2. 如果你有啟用二步驟驗證功能，那麼我想要駭入你的帳號是完全不可能的。

### ✉️ 電子郵件及密碼

通常來講，我們會要求使用者透過在瀏覽器的位置欄輸入一串代碼來取得他們帳號的 Cookie。

然而，有些使用者在這方面不太擅長。\
所以申鶴採取了與[胡桃登入通道](https://github.com/Hu-tao-bot)合作的方式，使得你可以透過輸入自己電子信箱與密碼就取得自己帳號的 Cookie。

#### 實際上發生了什麼？

你輸入了你的電子信箱及密碼 -> 完成 CAPTCHA 認證 -> 胡桃登入通道將會將你的電子信箱及密碼加密，並向 Hoyoverse 發送 API 請求 -> Hoyoverse 回傳你的帳號的 Cookie\
不論是我還是[胡桃登入通道的作者](https://github.com/mrwan200)都沒有儲存你的電子信箱及密碼，當然，我們只能「保證」，你仍然是在網頁上輸入了你的電子信箱及密碼。\
我們只是想用你更熟悉的方式來取得 Cookie，僅此而已。\
如果你不相信我們，請不要使用這個方式來取得 Cookie，我個人強烈推薦使用代碼的方式來獲得即可。\
當然，就算我們嘗試在原神中使用你的電子信箱及密碼來登入你的帳號，我們會需要通過電子信箱驗證（在新的裝置上登入），而上面已經提過，我們沒有你的電子信箱地址，更別提它的密碼。

### 🤝 我和你之間的信任關係

我可以透過你的 Cookie 進行以下的操作，但我保證我不會：

1. 使用你的 Hoyolab 帳號發布社群貼文
2. 將你的 Cookie 分享給其他人（但記住，擁有 Cookie 不代表擁有帳號，上面提過了）

### ⛔ 你的帳號有可能被封嗎？

1. 目前沒有任何因透過 Cookie 使用 Hoyoverse 的 API 導致帳戶被封的消息&#x20;
2. 許多大型的原神 Discord 機器人使用與申鶴相同的 API，他們有將近幾百萬個用戶

### 🛡️ 你的帳號安全嗎？

你的 Cookie 被存放在申鶴的資料庫裡，而申鶴的資料庫存放在亞馬遜的 AWS 主機內。亞馬遜是家挺大的公司，如果它被駭了，我很遺憾。

### ⚠️ 自行承擔使用風險

我現在已經將所有關於帳號安全及後果等等詳細的在上方解釋了，但是否真的要連結你的帳戶，這個選擇權還是在於你。\
我會盡我所能的確保你的帳戶資料安全，但我沒辦法百分之百的保證不會有意料之外的情況發生。\
請記住，如果你的帳號發生了任何問題，我將不會負擔任何責任。\
最後，你隨時可以透過 /accounts 指令來移除你的帳戶資料。\
另外，如果你重設了你的帳戶密碼，你的 Cookie 將會變得無效。

### 📖 開源程式碼

申鶴：[https://github.com/seriaati/shenhe\_bot](https://github.com/seriaati/shenhe\_bot)

胡桃登入通道：[https://github.com/Hu-tao-bot/login-service-library-python](https://github.com/Hu-tao-bot/login-service-library-python)
